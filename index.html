<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8" />
    <title>World Happiness Map</title>
    <style>
        :root {
            --bg:#f6f7f9;
            --card:#ffffff;
            --ink:#222;
            --muted:#7a7a7a;
            --border:#e6e7ea;
            --accent:#3b82f6;
        }
        * { box-sizing: border-box; }
        body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; color:var(--ink); background:var(--bg); }
        h1 { margin: 16px 16px 8px; font-size: 28px; }
        .layout { display:flex; gap:16px; align-items:stretch; padding:0 16px 16px; }
        .map-wrap { flex:1; background:var(--card); border:1px solid var(--border); border-radius:12px; box-shadow:0 1px 2px rgba(0,0,0,0.05); padding:8px; }
        svg#map { width:100%; height:70vh; display:block; }
        .country { stroke:#aaa; stroke-width:.5px; cursor:pointer; }
        .controls { display:flex; align-items:center; gap:12px; padding:8px 0 0 8px; color:var(--muted); }
        input[type="range"] { width:280px; }
        aside#panel { width:360px; background:var(--card); border:1px solid var(--border); border-radius:12px; padding:16px; box-shadow:0 1px 2px rgba(0,0,0,0.05); }
        .panel-title { display:flex; align-items:baseline; justify-content:space-between; margin-bottom:8px; }
        .panel-title h2 { margin:0; font-size:22px; }
        .subtle { color:var(--muted); font-size:12px; }
        #sparkline { margin:8px 0 16px; }
        .factor-row { display:flex; align-items:center; gap:10px; margin:10px 0; }
        .factor-label { flex:0 0 130px; text-align:left; }
        .bar-wrap { flex:1; background:#f1f3f5; height:10px; border-radius:999px; overflow:hidden; }
        .bar { height:100%; border-radius:999px; background:#84cc16; }
        .value { flex:0 0 48px; text-align:right; color:var(--muted); font-variant-numeric: tabular-nums; }
        .tooltip { position:absolute; padding:5px 10px; background:rgba(0,0,0,.7); color:white; border-radius:4px; pointer-events:none; opacity:0; }
    </style>
</head>
<body>
<h1>World Happiness Map</h1>
<div class="layout">
    <div class="map-wrap">
        <svg id="map"></svg>
        <div class="controls">
            <input type="range" id="yearSlider" min="2011" max="2024" value="2024" />
            <span id="yearLabel">2024</span>
        </div>
    </div>
    <aside id="panel">
        <div class="panel-title">
            <h2 id="countryTitle">Klicke ein Land</h2>
            <div id="ladderToday" class="subtle"></div>
        </div>
        <div id="sparkline"></div>
        <div id="factors"></div>
        <div id="emptyNote" class="subtle">Tipp: Wähle links ein Land, um die Beitragsfaktoren (GDP, Social Support, Health, Freedom, Generosity, Corruption) für das gewählte Jahr zu sehen.</div>
    </aside>
</div>
<script type="module" src="/src/main.js"></script>
</body>
</html>